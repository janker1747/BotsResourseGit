# BotsResourseGit

**Архитектура проекта**

**Основные сущности**
**Ресурс** — объект, который можно собрать.
**База** — база определённой фракции, где хранятся имя фракции и счётчик собранных ресурсов. База принимает ресурсы, доставленные дронами.
**DroneController** — отвечает за логику отдельного дрона. Его функционал включает в себя:
- навигацию через NavMeshAgent, который определяет маршрут дрона;
- состояния: занят/свободен, несёт ресурс или нет;
- корутинный цикл сбора и доставки ресурсов;
- взаимодействие с ресурсами и базой;
- визуализация пути и эффектов.
**DroneSpawner** — управляет количеством дронов, используя пул. Он может добавлять и убирать дронов, а также хранит список активных из них.
**Spawner (ресурсов)** — периодически создаёт ресурсы на плоскости, используя пул объектов для оптимизации.
**UI-контроллеры**
**DroneUIController** — управляет скоростью дронов и визуализацией их путей.
**FactionUIController** — отображает счётчики ресурсов по базам и фракциям.
**Логика взаимодействия**
Spawner отвечает за генерацию ресурсов, что позволяет игроку и системе видеть появление новых объектов. DroneSpawner создаёт дронов и привязывает их к базе. DroneController получает цель в виде ресурса, направляется к нему, собирает его и возвращается на базу. При возвращении дрон вызывает метод Base.AddResource(), который увеличивает счётчик ресурсов.
FactionUIController обновляет интерфейс, отображая актуальные значения по фракциям. DroneUIController предоставляет игроку возможность изменять скорость дронов и включать или отключать отрисовку путей.
**Архитектурные принципы**
- **Event-driven подход**: Ресурсы уведомляют о необходимости сбора через события, а дроны — о завершении доставки, вызывая метод CollectResource().
- **Разделение ответственности**: Каждый компонент отвечает только за свою функциональность:
  – Дрон — за логические задачи;
  – База — за счётчик ресурсов;
  – Спавнеры — за создание объектов.
UI отвечает за отображение информации и ввод данных.
Пулы объектов позволяют избежать постоянного создания и удаления ресурсов и дронов.
Модульность позволяет заменять или расширять компоненты без необходимости переписывать весь проект.
Архитектура системы состоит из следующих уровней:
* Нижний уровень — объекты, такие как ресурсы, дроны и базы данных.
* Средний уровень — менеджеры и системы спавна.
* Верхний уровень — пользовательский интерфейс, который отвечает за отображение информации и управление параметрами.

ВИДЕО ДЕМОНСТРАЦИЯ:
https://disk.yandex.by/i/yyXOfdea_Oz3VA